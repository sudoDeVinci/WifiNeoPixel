<!doctype html>
<html>
</head>
<body>
<div class="container">
  <div class="slider-group">
    <div class="slider-container">
      <span class="slider-label">Brightness</span>
      <input type="range" min="0" max="10" value="5" class="slider" id="brightnessRange" data-label = "brightness" oninput="updateValue(this, 'brightnessValue'); sendValue(this);">
      <span class="value-display" id="brightnessValue">5</span>
    </div>
    
    <div class="slider-container">
      <span class="slider-label">Level</span>
      <input type="range" min="0" max="10" value="5" class="slider" id="levelRange" data-label = "level" oninput="updateValue(this, 'levelValue'); sendValue(this);">
      <span class="value-display" id="levelValue">5</span>
    </div>
  </div>
</div>

<script>
function updateValue(slider, outputId) {
  document.getElementById(outputId).textContent = slider.value;
}

function sendValue(slider) {
  const value = slider.value;
  const label = slider.dataset.label;

  console.log('Sending value:', value, 'for label:', label);

  fetch('/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ label: label,
                           value: value })
  })
  .then(response => {

  })
  .catch(error => console.error('Error:', error));
}
</script>
</body>
</html>